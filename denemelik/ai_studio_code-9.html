<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kurumsal İnovasyon Merkezi - Fikir Yönetim Sistemi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 50%, #581c87 100%); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-4px); box-shadow: 0 20px 40px rgba(0,0,0,0.15); }
        .glass-effect { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); }
        .modal-backdrop { background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(5px); }
        .form-section { border-left: 3px solid #3b82f6; }
        .priority-high { background: linear-gradient(45deg, #ef4444, #dc2626); }
        .priority-medium { background: linear-gradient(45deg, #f59e0b, #d97706); }
        .priority-low { background: linear-gradient(45deg, #10b981, #059669); }
        .status-draft { background: linear-gradient(45deg, #6b7280, #4b5563); }
        .status-review { background: linear-gradient(45deg, #f59e0b, #d97706); }
        .status-approved { background: linear-gradient(45deg, #10b981, #059669); }
        .status-rejected { background: linear-gradient(45deg, #ef4444, #dc2626); }
        .department-tag { background: linear-gradient(45deg, #8b5cf6, #7c3aed); }

        /* Yeni Şık Adım Göstergesi Stilleri */
        .step { display: flex; align-items: center; flex-grow: 1; position: relative; }
        .step-dot { width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; transition: all 0.3s ease; border: 2px solid; z-index: 10; }
        .step-line { position: absolute; left: 16px; right: -16px; top: 15px; height: 2px; transition: all 0.3s ease; }
        .step-label { font-size: 14px; font-weight: 500; margin-left: 12px; white-space: nowrap; }
        /* Varsayılan Durum */
        .step .step-dot { background-color: #fff; border-color: #d1d5db; color: #4b5563; }
        .step .step-line { background-color: #d1d5db; }
        .step .step-label { color: #6b7280; }
        /* Aktif Durum */
        .step.active .step-dot { border-color: #3b82f6; background-color: #3b82f6; color: white; }
        .step.active .step-label { color: #1f2937; font-weight: 600; }
        /* Tamamlanmış Durum */
        .step.completed .step-dot { background-color: #3b82f6; border-color: #3b82f6; color: white; }
        .step.completed .step-line { background-color: #3b82f6; }
        .step.completed .step-label { color: #4b5563; }
        .step:last-child .step-line { display: none; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-2xl">
        <div class="container mx-auto px-6 py-8">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-5xl font-bold mb-3 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent">🚀 Kurumsal İnovasyon Merkezi</h1>
                    <p class="text-blue-100 text-xl font-medium">Stratejik Fikir Yönetim & Değerlendirme Platformu</p>
                </div>
                <div class="flex gap-6">
                    <div class="glass-effect rounded-xl px-6 py-4 text-center"><p class="text-sm text-gray-600 font-medium">Aktif Projeler</p><p class="text-3xl font-bold text-blue-600" id="activeProjects">8</p></div>
                    <div class="glass-effect rounded-xl px-6 py-4 text-center"><p class="text-sm text-gray-600 font-medium">Toplam ROI</p><p class="text-3xl font-bold text-green-600">₺2.4M</p></div>
                    <div class="glass-effect rounded-xl px-6 py-4 text-center"><p class="text-sm text-gray-600 font-medium">Değerlendirmede</p><p class="text-3xl font-bold text-orange-600" id="pendingIdeas">5</p></div>
                </div>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-6 py-8">
        <!-- Ana Kontrol Paneli -->
        <div class="grid lg:grid-cols-4 gap-8 mb-8">
            <button onclick="openIdeaModal()" class="bg-gradient-to-br from-blue-600 to-purple-700 text-white p-8 rounded-2xl shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300">
                <div class="text-4xl mb-4">💡</div><h3 class="text-xl font-bold mb-2">Yeni Fikir Öner</h3><p class="text-blue-100">Detaylı fikir haritası oluştur</p>
            </button>
            <div class="bg-white p-8 rounded-2xl shadow-xl"><div class="text-4xl mb-4">📊</div><h3 class="text-xl font-bold text-gray-800 mb-2">Analitik Dashboard</h3><p class="text-gray-600">Performans metrikleri</p></div>
            <div class="bg-white p-8 rounded-2xl shadow-xl"><div class="text-4xl mb-4">👥</div><h3 class="text-xl font-bold text-gray-800 mb-2">Ekip Yönetimi</h3><p class="text-gray-600">Proje ekipleri</p></div>
            <div class="bg-white p-8 rounded-2xl shadow-xl"><div class="text-4xl mb-4">📈</div><h3 class="text-xl font-bold text-gray-800 mb-2">ROI Analizi</h3><p class="text-gray-600">Yatırım getirisi</p></div>
        </div>

        <!-- Filtre ve Arama -->
        <div class="bg-white rounded-2xl shadow-xl p-6 mb-8"><div class="flex flex-wrap gap-4 items-center justify-between"><div class="flex flex-wrap gap-3"><button class="filter-btn px-6 py-3 rounded-full font-medium bg-blue-100 text-blue-700 hover:bg-blue-200 transition-all" data-filter="all">Tüm Fikirler</button><button class="filter-btn px-6 py-3 rounded-full font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-all" data-filter="draft">Taslak</button><button class="filter-btn px-6 py-3 rounded-full font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-all" data-filter="review">Değerlendirmede</button><button class="filter-btn px-6 py-3 rounded-full font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-all" data-filter="approved">Onaylandı</button></div><div class="flex gap-4"><select id="sortSelect" class="px-4 py-3 border border-gray-300 rounded-xl font-medium"><option value="newest">En Yeni</option><option value="roi">En Yüksek ROI</option><option value="budget">Bütçe (Düşük-Yüksek)</option><option value="priority">Öncelik</option></select><input type="text" placeholder="Fikir ara..." class="px-4 py-3 border border-gray-300 rounded-xl w-64" id="searchInput"></div></div></div>
        <!-- Fikirler Listesi --><div id="ideasContainer" class="space-y-6"></div>
    </div>

    <!-- Fikir Ekleme Modal -->
    <div id="ideaModal" class="fixed inset-0 modal-backdrop hidden z-50 overflow-y-auto">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-2xl shadow-2xl max-w-6xl w-full">
                <!-- Modal Header -->
                <div class="gradient-bg text-white p-5 rounded-t-2xl flex justify-between items-center">
                    <div>
                        <h2 class="text-2xl font-bold">Yeni İnovasyon Projesi</h2>
                        <p class="text-blue-100 mt-1 text-sm">Detaylı fikir haritası ve proje planı oluşturun</p>
                    </div>
                    <button onclick="closeIdeaModal()" class="text-white hover:text-gray-200 text-3xl">&times;</button>
                </div>

                <!-- Progress Indicator -->
                <div class="p-6 border-b">
                    <div class="flex items-center">
                        <div id="step-indicator-1" class="step"><div class="step-dot">1</div><span class="step-label">Temel Bilgiler</span><div class="step-line"></div></div>
                        <div id="step-indicator-2" class="step"><div class="step-dot">2</div><span class="step-label">Problem & Çözüm</span><div class="step-line"></div></div>
                        <div id="step-indicator-3" class="step"><div class="step-dot">3</div><span class="step-label">Finansal Analiz</span><div class="step-line"></div></div>
                        <div id="step-indicator-4" class="step"><div class="step-dot">4</div><span class="step-label">Ekip & Finalizasyon</span></div>
                    </div>
                </div>

                <!-- Form Content -->
                <form id="ideaForm" class="p-6">
                    <!-- Step 1: Temel Bilgiler -->
                    <div id="step1" class="step-content">
                        <div class="grid lg:grid-cols-2 gap-8">
                            <!-- Sol Sütun -->
                            <div class="space-y-4 form-section pl-4">
                                <h3 class="text-lg font-bold text-gray-800 -ml-4 pl-4">👤 Öneren Kişi Bilgileri</h3>
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Ad Soyad *</label>
                                        <input type="text" id="proposerName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500" placeholder="Adınız Soyadınız">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Departman *</label>
                                        <select id="proposerDepartment" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500">
                                            <option value="">Departman seçin...</option>
                                            <option value="it">💻 Bilgi İşlem</option><option value="hr">👥 İnsan Kaynakları</option><option value="finance">💰 Finans</option><option value="operations">⚙️ Operasyon</option><option value="marketing">📢 Pazarlama</option><option value="sales">💼 Satış</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <!-- Sağ Sütun -->
                            <div class="space-y-4 form-section pl-4">
                                <h3 class="text-lg font-bold text-gray-800 -ml-4 pl-4">📋 Proje Temel Bilgileri</h3>
                                <div><label class="block text-sm font-medium text-gray-700 mb-1">Proje Başlığı *</label><input type="text" id="projectTitle" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500" placeholder="Projenizin çarpıcı başlığı..."></div>
                                <div class="grid grid-cols-2 gap-4">
                                    <div><label class="block text-sm font-medium text-gray-700 mb-1">Kategori *</label><select id="projectCategory" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500"><option value="">Kategori seçin...</option><option value="dijital-donusum">🔄 Dijital Dönüşüm</option><option value="otomasyon">🤖 Otomasyon & AI</option><option value="sureciyilestirme">⚡ Süreç İyileştirme</option><option value="calisan-deneyimi">😊 Çalışan Deneyimi</option><option value="musteri-deneyimi">👥 Müşteri Deneyimi</option><option value="maliyet-optimizasyonu">💰 Maliyet Optimizasyonu</option></select></div>
                                    <div><label class="block text-sm font-medium text-gray-700 mb-1">Öncelik Seviyesi *</label><select id="priorityLevel" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500"><option value="low">🟢 Düşük</option><option value="medium">🟡 Orta</option><option value="high">🔴 Yüksek</option></select></div>
                                </div>
                                <div><label class="block text-sm font-medium text-gray-700 mb-1">Kısa Açıklama</label><textarea id="shortDescription" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500" placeholder="Projenizi kısaca özetleyin..."></textarea></div>
                            </div>
                        </div>
                        <div class="flex justify-end mt-8 pt-6 border-t"><button type="button" onclick="nextStep()" class="px-8 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 font-medium">Sonraki Adım →</button></div>
                    </div>

                    <!-- Step 2: Problem & Çözüm -->
                    <div id="step2" class="step-content hidden">
                        <div class="grid lg:grid-cols-2 gap-8">
                            <div class="space-y-4 form-section pl-4"><h3 class="text-lg font-bold text-gray-800 -ml-4 pl-4">🎯 Problem Analizi</h3>
                                <div><label class="block text-sm font-medium text-gray-700 mb-1">Problem Türü *</label><select id="problemType" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500"><option value="">Problem türünü seçin...</option><option value="zaman-kaybi">⏰ Zaman kaybı</option><option value="maliyet-yuksek">💰 Yüksek maliyet</option><option value="hata-fazla">❌ Çok fazla hata</option><option value="musteri-memnuniyetsiz">😞 Müşteri memnuniyetsizliği</option><option value="personel-verimsiz">👥 Personel verimsizliği</option><option value="teknoloji-eski">💻 Eski teknoloji</option></select></div>
                                <div><label class="block text-sm font-medium text-gray-700 mb-1">Problem Detayı *</label><textarea id="problemDescription" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500" placeholder="Problemi detaylı olarak açıklayın..."></textarea></div>
                                <div><label class="block text-sm font-medium text-gray-700 mb-1">Problem Sıklığı</label><select id="problemFrequency" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500"><option value="gunluk">📅 Günlük</option><option value="haftalik">📆 Haftalık</option><option value="aylik">🗓️ Aylık</option><option value="nadir">⏰ Nadir</option></select></div>
                            </div>
                             <div class="space-y-4 form-section pl-4"><h3 class="text-lg font-bold text-gray-800 -ml-4 pl-4">💡 Çözüm Önerisi</h3>
                                <div><label class="block text-sm font-medium text-gray-700 mb-1">Çözüm Türü *</label><select id="solutionType" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500"><option value="">Çözüm türünü seçin...</option><option value="yazilim-gelistirme">💻 Yazılım geliştirme</option><option value="sistem-entegrasyonu">🔗 Sistem entegrasyonu</option><option value="surec-iyilestirme">⚡ Süreç iyileştirme</option><option value="otomasyon">🤖 Otomasyon</option><option value="egitim-programi">📚 Eğitim programı</option><option value="organizasyon-degisiklik">🏢 Organizasyon değişikliği</option></select></div>
                                <div><label class="block text-sm font-medium text-gray-700 mb-1">Çözüm Detayı *</label><textarea id="solutionDescription" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500" placeholder="Çözümünüzü detaylı olarak açıklayın..."></textarea></div>
                                <div><label class="block text-sm font-medium text-gray-700 mb-1">Beklenen Faydalar *</label><textarea id="expectedBenefits" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500" placeholder="Bu çözümün sağlayacağı faydalar..."></textarea></div>
                            </div>
                        </div>
                        <div class="flex justify-between mt-8 pt-6 border-t"><button type="button" onclick="prevStep()" class="px-8 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium">← Önceki Adım</button><button type="button" onclick="nextStep()" class="px-8 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 font-medium">Sonraki Adım →</button></div>
                    </div>

                    <!-- Step 3: Finansal Analiz -->
                    <div id="step3" class="step-content hidden">
                        <div class="space-y-6">
                            <div class="grid lg:grid-cols-2 gap-8">
                                <div class="space-y-4 form-section pl-4"><h4 class="text-lg font-bold text-gray-800 -ml-4 pl-4">💰 Maliyet Kalemleri</h4>
                                    <div><label class="block text-sm font-medium text-gray-700 mb-1">Başlangıç Yatırımı (₺)</label><input type="number" id="initialInvestment" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="0"><p class="text-xs text-gray-500 mt-1">Donanım, yazılım, kurulum vb.</p></div>
                                    <div><label class="block text-sm font-medium text-gray-700 mb-1">Yıllık İşletme Maliyeti (₺)</label><input type="number" id="operationalCost" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="0"><p class="text-xs text-gray-500 mt-1">Lisans, bakım, personel vb.</p></div>
                                    <div><label class="block text-sm font-medium text-gray-700 mb-1">Eğitim Maliyeti (₺)</label><input type="number" id="trainingCost" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="0"><p class="text-xs text-gray-500 mt-1">Personel eğitimi, danışmanlık.</p></div>
                                </div>
                                <div class="space-y-4 form-section pl-4"><h4 class="text-lg font-bold text-gray-800 -ml-4 pl-4">📈 Fayda Kalemleri</h4>
                                    <div><label class="block text-sm font-medium text-gray-700 mb-1">Yıllık Tasarruf (₺)</label><input type="number" id="annualSavings" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="0"><p class="text-xs text-gray-500 mt-1">Maliyet azalması, verimlilik artışı.</p></div>
                                    <div><label class="block text-sm font-medium text-gray-700 mb-1">Yıllık Gelir Artışı (₺)</label><input type="number" id="revenueIncrease" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="0"><p class="text-xs text-gray-500 mt-1">Yeni gelir kaynakları, satış artışı.</p></div>
                                    <div><label class="block text-sm font-medium text-gray-700 mb-1">Risk Maliyeti (₺)</label><input type="number" id="riskCost" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="0"><p class="text-xs text-gray-500 mt-1">Potansiyel risk maliyetleri.</p></div>
                                </div>
                            </div>
                            <div class="bg-blue-50 p-4 rounded-lg border border-blue-200 mt-6"><h4 class="font-bold text-gray-800 mb-3">📊 Finansal Özet</h4><div class="grid grid-cols-2 lg:grid-cols-4 gap-4"><div class="bg-white p-3 rounded-lg text-center"><div class="text-xl font-bold text-blue-600" id="calculatedROI">-%</div><div class="text-sm text-gray-600">ROI</div></div><div class="bg-white p-3 rounded-lg text-center"><div class="text-xl font-bold text-green-600" id="paybackPeriod">- ay</div><div class="text-sm text-gray-600">Geri Ödeme</div></div><div class="bg-white p-3 rounded-lg text-center"><div class="text-xl font-bold text-purple-600" id="netBenefit">₺-</div><div class="text-sm text-gray-600">Net Fayda (3 Yıl)</div></div><div class="bg-white p-3 rounded-lg text-center"><div class="text-xl font-bold text-orange-600" id="riskScore">-</div><div class="text-sm text-gray-600">Risk Skoru</div></div></div></div>
                        </div>
                        <div class="flex justify-between mt-8 pt-6 border-t"><button type="button" onclick="prevStep()" class="px-8 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium">← Önceki Adım</button><button type="button" onclick="nextStep()" class="px-8 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 font-medium">Sonraki Adım →</button></div>
                    </div>
                    
                    <!-- Step 4: Ekip & Finalizasyon -->
                    <div id="step4" class="step-content hidden">
                        <div class="grid lg:grid-cols-2 gap-8">
                            <div class="space-y-4 form-section pl-4"><h3 class="text-lg font-bold text-gray-800 -ml-4 pl-4">👥 Ekip ve Proje Yönetimi</h3>
                                <div><label class="block text-sm font-medium text-gray-700 mb-1">Proje Lideri *</label><select id="projectLeader" class="w-full px-3 py-2 border border-gray-300 rounded-lg"><option value="">Proje lideri seçin...</option><option value="kendim">👤 Ben kendim</option><optgroup label="💻 Bilgi İşlem"><option value="mehmet-demir">Mehmet Demir</option><option value="ayse-ozkan">Ayşe Özkan</option></optgroup><optgroup label="💰 Finans"><option value="ali-koc">Ali Koç</option><option value="seda-yilmaz">Seda Yılmaz</option></optgroup></select></div>
                                <div class="grid grid-cols-2 gap-4">
                                    <div><label class="block text-sm font-medium text-gray-700 mb-1">Gerekli Ekip Büyüklüğü</label><select id="teamSize" class="w-full px-3 py-2 border border-gray-300 rounded-lg"><option value="1-3">1-3 kişi</option><option value="4-7">4-7 kişi</option><option value="8-15">8-15 kişi</option><option value="15+">15+ kişi</option></select></div>
                                    <div><label class="block text-sm font-medium text-gray-700 mb-1">Proje Süresi</label><select id="projectDuration" class="w-full px-3 py-2 border border-gray-300 rounded-lg"><option value="1-3">1-3 ay</option><option value="3-6">3-6 ay</option><option value="6-12">6-12 ay</option><option value="12+">12+ ay</option></select></div>
                                </div>
                                <div><label class="block text-sm font-medium text-gray-700 mb-1">Sorumlu Departmanlar</label><div class="grid grid-cols-3 gap-2 mt-2"><label class="flex items-center space-x-2 text-sm"><input type="checkbox" name="departments" value="it" class="rounded"><span>💻 IT</span></label><label class="flex items-center space-x-2 text-sm"><input type="checkbox" name="departments" value="hr" class="rounded"><span>👥 İK</span></label><label class="flex items-center space-x-2 text-sm"><input type="checkbox" name="departments" value="finance" class="rounded"><span>💰 Finans</span></label><label class="flex items-center space-x-2 text-sm"><input type="checkbox" name="departments" value="operations" class="rounded"><span>⚙️ Ops</span></label><label class="flex items-center space-x-2 text-sm"><input type="checkbox" name="departments" value="marketing" class="rounded"><span>📢 Paz.</span></label><label class="flex items-center space-x-2 text-sm"><input type="checkbox" name="departments" value="sales" class="rounded"><span>💼 Satış</span></label></div></div>
                                <div><label class="block text-sm font-medium text-gray-700 mb-1">Ek Notlar</label><textarea id="additionalNotes" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="Diğer önemli bilgiler..."></textarea></div>
                            </div>
                            <div class="space-y-4 form-section pl-4"><h3 class="text-lg font-bold text-gray-800 -ml-4 pl-4">📎 Destekleyici Belgeler</h3>
                                <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 h-full flex flex-col justify-center">
                                    <div class="text-3xl mb-2">📄</div><p class="text-gray-600 mb-3 text-sm">Belgelerinizi buraya sürükleyin</p><input type="file" id="supportingFiles" multiple class="hidden"><button type="button" onclick="document.getElementById('supportingFiles').click()" class="bg-blue-100 text-blue-700 px-5 py-2 rounded-lg hover:bg-blue-200 text-sm">Dosya Seç</button><p class="text-xs text-gray-500 mt-2">Max 10MB</p><div id="fileList" class="mt-3 text-left text-sm"></div>
                                </div>
                            </div>
                        </div>
                        <div class="flex justify-between items-center mt-8 pt-6 border-t"><button type="button" onclick="prevStep()" class="px-8 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium">← Önceki Adım</button><div class="flex gap-4"><button type="button" onclick="saveDraft()" class="px-8 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-medium">Taslak Kaydet</button><button type="submit" class="px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 font-medium">Değerlendirmeye Gönder 🚀</button></div></div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Örnek veriler (orijinal haliyle korunmuştur)
        let ideas = [{id:1,title:"AI Destekli Müşteri Hizmetleri Chatbot Sistemi",category:"dijital-donusum",problem:"Müşteri hizmetleri departmanımız günde ortalama 500 çağrı alıyor ve %60'ı tekrarlanan sorular.",solution:"7/24 çalışan, doğal dil işleme teknolojisi kullanan AI chatbot sistemi.",benefits:"Müşteri memnuniyeti %40 artış, operasyonel maliyet %35 azalış",initialInvestment:250000,operationalCost:50000,annualSavings:180000,revenueIncrease:120000,departments:["it","operations","marketing"],teamSize:"4-7",duration:"6-12",priority:"high",status:"review",proposer:"Ahmet Yılmaz - IT Müdürü",date:new Date('2024-01-15'),votes:23,comments:8,roi:120,payback:10},{id:2,title:"Hibrit Çalışma Modeli Optimizasyon Platformu",category:"calisan-deneyimi",problem:"Hibrit çalışma modelinde ofis kapasitesi planlaması ve koordinasyon sorunları.",solution:"Akıllı ofis yönetim sistemi: Masa rezervasyonu, kapasite takibi, toplantı odası yönetimi",benefits:"Ofis maliyetlerinde %25 tasarruf, çalışan memnuniyeti artışı",initialInvestment:180000,operationalCost:30000,annualSavings:150000,revenueIncrease:0,departments:["hr","it","operations"],teamSize:"4-7",duration:"3-6",priority:"medium",status:"approved",proposer:"Zeynep Kaya - İK Direktörü",date:new Date('2024-01-14'),votes:31,comments:12,roi:400,payback:14}];
        let currentFilter='all',currentSort='newest',currentStep=1;
        function openIdeaModal(){document.getElementById('ideaModal').classList.remove('hidden');document.body.style.overflow='hidden';showStep(1);}
        function closeIdeaModal(){document.getElementById('ideaModal').classList.add('hidden');document.body.style.overflow='auto';document.getElementById('ideaForm').reset();showStep(1);}
        
        // GÜNCELLENMİŞ showStep fonksiyonu
        function showStep(step){
            document.querySelectorAll('.step-content').forEach(el=>el.classList.add('hidden'));
            const activeStepContent = document.getElementById(`step${step}`);
            if(activeStepContent) activeStepContent.classList.remove('hidden');
            
            for(let i=1;i<=4;i++){
                const indicator = document.getElementById(`step-indicator-${i}`);
                if(indicator){
                    indicator.classList.remove('active','completed');
                    if(i < step) indicator.classList.add('completed');
                    else if(i === step) indicator.classList.add('active');
                }
            }
            currentStep = step;
        }

        function nextStep(){if(currentStep<4){showStep(currentStep+1);}}
        function prevStep(){if(currentStep>1){showStep(currentStep-1);}}
        function calculateFinancials(){const investment=parseFloat(document.getElementById('initialInvestment').value)||0;const operationalCost=parseFloat(document.getElementById('operationalCost').value)||0;const savings=parseFloat(document.getElementById('annualSavings').value)||0;const revenue=parseFloat(document.getElementById('revenueIncrease').value)||0;const trainingCost=parseFloat(document.getElementById('trainingCost').value)||0;const riskCost=parseFloat(document.getElementById('riskCost').value)||0;const totalInitialCost=investment+trainingCost;const annualBenefit=savings+revenue-operationalCost;const roi=totalInitialCost>0?((annualBenefit/totalInitialCost)*100):0;const payback=annualBenefit>0?(totalInitialCost/annualBenefit*12):0;const netBenefit3Years=(annualBenefit*3)-totalInitialCost;let riskScore='Düşük';if(riskCost>investment*0.2||payback>24)riskScore='Yüksek';else if(riskCost>investment*0.1||payback>12)riskScore='Orta';document.getElementById('calculatedROI').textContent=roi.toFixed(1)+'%';document.getElementById('paybackPeriod').textContent=payback.toFixed(1)+' ay';document.getElementById('netBenefit').textContent='₺'+(netBenefit3Years/1000).toFixed(0)+'K';document.getElementById('riskScore').textContent=riskScore;}
        ['initialInvestment','operationalCost','annualSavings','revenueIncrease','trainingCost','riskCost'].forEach(id=>{const element=document.getElementById(id);if(element){element.addEventListener('input',calculateFinancials);}});
        function renderIdeas(){const container=document.getElementById('ideasContainer');let filteredIdeas=ideas;if(currentFilter!=='all'){filteredIdeas=ideas.filter(idea=>idea.status===currentFilter);}
        filteredIdeas.sort((a,b)=>{if(currentSort==='newest')return b.date-a.date;if(currentSort==='roi')return b.roi-a.roi;if(currentSort==='budget')return a.initialInvestment-b.initialInvestment;if(currentSort==='priority'){const priorityOrder={'high':3,'medium':2,'low':1};return priorityOrder[b.priority]-priorityOrder[a.priority];}});
        container.innerHTML=filteredIdeas.map(idea=>{const statusClass=`status-${idea.status}`;const priorityClass=`priority-${idea.priority}`;const departmentTags=idea.departments.map(dept=>{const deptNames={'it':'💻 IT','hr':'👥 İK','finance':'💰 Finans','operations':'⚙️ Operasyon','marketing':'📢 Pazarlama','sales':'💼 Satış'};return`<span class="department-tag text-white px-2 py-1 rounded-full text-xs">${deptNames[dept]}</span>`;}).join('');const statusNames={'draft':'Taslak','review':'Değerlendirmede','approved':'Onaylandı','rejected':'Reddedildi'};return`
        <div class="bg-white rounded-2xl shadow-xl card-hover border border-gray-100 overflow-hidden"><div class="p-8"><div class="flex justify-between items-start mb-6"><div class="flex-1"><div class="flex items-center gap-3 mb-4"><span class="${statusClass} text-white px-4 py-2 rounded-full text-sm font-bold">${statusNames[idea.status]}</span><span class="${priorityClass} text-white px-3 py-1 rounded-full text-xs font-bold">${idea.priority.toUpperCase()}</span><span class="text-gray-500 text-sm">${idea.date.toLocaleDateString('tr-TR')}</span></div><h3 class="text-2xl font-bold text-gray-800 mb-3">${idea.title}</h3><p class="text-gray-600 leading-relaxed mb-4">${idea.solution}</p><div class="grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6"><div class="bg-blue-50 p-4 rounded-xl text-center"><div class="text-2xl font-bold text-blue-600">₺${(idea.initialInvestment/1000).toFixed(0)}K</div><div class="text-sm text-gray-600">Yatırım</div></div><div class="bg-green-50 p-4 rounded-xl text-center"><div class="text-2xl font-bold text-green-600">${idea.roi}%</div><div class="text-sm text-gray-600">ROI</div></div><div class="bg-purple-50 p-4 rounded-xl text-center"><div class="text-2xl font-bold text-purple-600">${idea.payback}</div><div class="text-sm text-gray-600">Ay GÖS</div></div><div class="bg-orange-50 p-4 rounded-xl text-center"><div class="text-2xl font-bold text-orange-600">${idea.teamSize}</div><div class="text-sm text-gray-600">Ekip</div></div></div><div class="flex items-center justify-between"><div class="flex flex-wrap gap-2">${departmentTags}</div><div class="text-sm text-gray-500">👤 ${idea.proposer}</div></div></div><div class="ml-8 text-center"><button class="vote-btn bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 rounded-xl font-bold hover:from-green-600 hover:to-emerald-600 mb-3 transform hover:scale-105 transition-all">👍 Destekle</button><div class="text-3xl font-bold text-gray-700">${idea.votes}</div><div class="text-sm text-gray-500 mb-3">destek</div><button class="bg-blue-100 text-blue-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-200 transition-colors">💬 ${idea.comments} Yorum</button></div></div></div></div>`;}).join('');document.getElementById('activeProjects').textContent=ideas.filter(i=>i.status==='approved').length;document.getElementById('pendingIdeas').textContent=ideas.filter(i=>i.status==='review').length;}
        document.getElementById('ideaForm').addEventListener('submit',function(e){e.preventDefault();const title=document.getElementById('projectTitle').value.trim();const category=document.getElementById('projectCategory').value;const problem=document.getElementById('problemDescription').value.trim();const solution=document.getElementById('solutionDescription').value.trim();const proposer=document.getElementById('proposerName').value.trim();if(!title||!category||!problem||!solution||!proposer){alert('Lütfen zorunlu alanları (*) doldurun!');return;}
        const selectedDepartments=Array.from(document.querySelectorAll('input[name="departments"]:checked')).map(cb=>cb.value);const newIdea={id:ideas.length+1,title,category,problem,solution,benefits:document.getElementById('expectedBenefits').value,initialInvestment:parseFloat(document.getElementById('initialInvestment').value)||0,operationalCost:parseFloat(document.getElementById('operationalCost').value)||0,annualSavings:parseFloat(document.getElementById('annualSavings').value)||0,revenueIncrease:parseFloat(document.getElementById('revenueIncrease').value)||0,departments:selectedDepartments,teamSize:document.getElementById('teamSize').value,duration:document.getElementById('projectDuration').value,priority:document.getElementById('priorityLevel').value,status:'review',proposer:proposer,date:new Date(),votes:0,comments:0,roi:0,payback:0};const annualBenefit=newIdea.annualSavings+newIdea.revenueIncrease-newIdea.operationalCost;newIdea.roi=newIdea.initialInvestment>0?Math.round((annualBenefit/newIdea.initialInvestment)*100):0;newIdea.payback=annualBenefit>0?Math.round(newIdea.initialInvestment/annualBenefit*12):0;ideas.unshift(newIdea);renderIdeas();closeIdeaModal();alert('🎉 Fikriniz başarıyla değerlendirmeye gönderildi! Yönetim kurulu 3-5 iş günü içinde değerlendirecek.');});
        function saveDraft(){alert('💾 Taslak kaydedildi! Daha sonra düzenleyebilirsiniz.');closeIdeaModal();}
        document.querySelectorAll('.filter-btn').forEach(btn=>{btn.addEventListener('click',function(){document.querySelectorAll('.filter-btn').forEach(b=>{b.classList.remove('bg-blue-100','text-blue-700');b.classList.add('bg-gray-100','text-gray-700');});this.classList.remove('bg-gray-100','text-gray-700');this.classList.add('bg-blue-100','text-blue-700');currentFilter=this.dataset.filter;renderIdeas();});});
        document.getElementById('sortSelect').addEventListener('change',function(){currentSort=this.value;renderIdeas();});
        document.getElementById('supportingFiles').addEventListener('change',function(e){const fileList=document.getElementById('fileList');fileList.innerHTML='';Array.from(e.target.files).forEach((file,index)=>{const fileItem=document.createElement('div');fileItem.className='flex items-center justify-between bg-gray-50 p-2 rounded-lg mb-2';fileItem.innerHTML=`<div class="flex items-center"><span class="text-blue-600 mr-2">📄</span><span class="text-sm text-gray-700">${file.name}</span><span class="text-xs text-gray-500 ml-2">(${(file.size/1024/1024).toFixed(2)} MB)</span></div><button type="button" onclick="removeFile(${index})" class="text-red-500 hover:text-red-700">✕</button>`;fileList.appendChild(fileItem);});});
        function removeFile(index){const fileInput=document.getElementById('supportingFiles');const dt=new DataTransfer();const files=Array.from(fileInput.files);files.forEach((file,i)=>{if(i!==index)dt.items.add(file);});fileInput.files=dt.files;fileInput.dispatchEvent(new Event('change'));}
        renderIdeas();
    </script>
</body>
</html>