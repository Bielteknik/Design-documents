<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Projeler - Project Management Hub</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: #0f172a;
      color: white;
      height: 100vh;
      display: flex;
      overflow: hidden;
    }

    /* Sol Sidebar */
    .sidebar {
      width: 260px;
      background: rgba(15, 23, 42, 0.9);
      backdrop-filter: blur(10px);
      border-right: 1px solid rgba(255, 255, 255, 0.1);
      padding: 24px 20px;
      display: flex;
      flex-direction: column;
      height: 100%;
      overflow-y: auto;
      flex-shrink: 0;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 30px;
      font-weight: 700;
      font-size: 20px;
      color: white;
    }

    .logo svg {
      width: 32px;
      height: 32px;
      fill: #60a5fa;
    }

    .nav-links {
      margin-top: 20px;
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 16px;
      border-radius: 12px;
      margin-bottom: 8px;
      cursor: pointer;
      transition: all 0.3s;
      color: rgba(255, 255, 255, 0.8);
      font-size: 14px;
      font-weight: 500;
    }

    .nav-item:hover {
      background: rgba(59, 130, 246, 0.2);
      color: white;
    }

    .nav-item.active {
      background: rgba(59, 130, 246, 0.3);
      color: white;
    }

    .nav-item svg {
      width: 20px;
      height: 20px;
    }

    /* Ana İçerik */
    .main {
      flex: 1;
      padding: 30px;
      overflow-y: auto;
      position: relative;
    }

    .main::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('https://images.unsplash.com/photo-1497366754035-f200968a6e72') no-repeat center/cover;
      background-blend-mode: overlay;
      background-color: rgba(15, 23, 42, 0.8);
      opacity: 0.15;
      z-index: -1;
    }

    /* Bildirim Paneli */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      max-width: 360px;
      background: rgba(15, 23, 42, 0.95);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 12px;
      padding: 16px 20px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-20px);
      transition: all 0.4s ease;
      font-size: 14px;
    }

    .notification.show {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .notification p {
      line-height: 1.5;
    }

    .notification p strong {
      color: #60a5fa;
    }

    .close-btn {
      position: absolute;
      top: 12px;
      right: 12px;
      background: none;
      border: none;
      color: rgba(255, 255, 255, 0.6);
      font-size: 18px;
      cursor: pointer;
    }

    .close-btn:hover {
      color: white;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 28px;
    }

    .title h1 {
      font-size: 28px;
      font-weight: 700;
      color: white;
    }

    .title p {
      color: rgba(255, 255, 255, 0.7);
      font-size: 14px;
      margin-top: 6px;
    }

    .actions {
      display: flex;
      gap: 12px;
    }

    .search {
      position: relative;
      min-width: 240px;
    }

    .search input {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      padding: 10px 14px 10px 36px;
      border-radius: 12px;
      color: white;
      width: 100%;
      font-size: 14px;
    }

    .search svg {
      position: absolute;
      left: 12px;
      top: 11px;
      width: 16px;
      height: 16px;
      color: rgba(255, 255, 255, 0.6);
    }

    .btn {
      background: #3b82f6;
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: background 0.3s, transform 0.2s;
      white-space: nowrap;
    }

    .btn:hover {
      background: #2563eb;
      transform: translateY(-1px);
    }

    .btn:active {
      transform: translateY(0);
    }

    /* Görünüm Sekmeleri */
    .view-tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 24px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding-bottom: 8px;
    }

    .view-tab {
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
      color: rgba(255, 255, 255, 0.7);
      transition: all 0.3s;
      font-weight: 500;
    }

    .view-tab.active {
      background: rgba(59, 130, 246, 0.2);
      color: white;
    }

    .view-tab:hover:not(.active) {
      color: white;
    }

    /* Filtreler */
    .filters {
      display: flex;
      gap: 10px;
      margin-bottom: 28px;
      flex-wrap: wrap;
    }

    .filter-btn {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
      padding: 8px 14px;
      border-radius: 10px;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 500;
    }

    .filter-btn:hover, .filter-btn.active {
      background: #3b82f6;
      border-color: #3b82f6;
    }

    /* Görünümler */
    .view {
      display: none;
    }

    .view.active {
      display: block;
    }

    /* Kart Görünümü */
    .projects-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 24px;
    }

    .project-card {
      background: rgba(30, 41, 59, 0.7);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 20px;
      transition: transform 0.3s, box-shadow 0.3s;
      position: relative;
      cursor: pointer;
    }

    .project-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
      border-color: rgba(59, 130, 246, 0.5);
    }

    .edit-btn {
      position: absolute;
      top: 12px;
      right: 12px;
      width: 32px;
      height: 32px;
      background: rgba(255, 255, 255, 0.1);
      border: none;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s;
    }

    .project-card:hover .edit-btn {
      opacity: 1;
      visibility: visible;
    }

    .edit-btn svg {
      width: 16px;
      height: 16px;
      stroke: white;
    }

    .project-card h3 {
      font-size: 16px;
      margin-bottom: 8px;
      font-weight: 600;
      color: white;
    }

    .project-desc {
      font-size: 13px;
      color: rgba(255, 255, 255, 0.7);
      margin-bottom: 14px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      line-height: 1.4;
    }

    .tags {
      display: flex;
      gap: 6px;
      margin-bottom: 12px;
      flex-wrap: wrap;
    }

    .tag {
      font-size: 11px;
      padding: 4px 8px;
      border-radius: 6px;
      background: rgba(255, 255, 255, 0.1);
      font-weight: 500;
    }

    .tag.frontend { background: rgba(59, 130, 246, 0.2); color: #60a5fa; }
    .tag.backend { background: rgba(16, 185, 129, 0.2); color: #10b981; }
    .tag.acil { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
    .tag.uiux { background: rgba(147, 51, 234, 0.2); color: #8b5cf6; }

    .project-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 12px;
      color: rgba(255, 255, 255, 0.6);
      margin-bottom: 12px;
    }

    .status {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 600;
    }

    .status.devam { background: rgba(234, 179, 8, 0.2); color: #f59e0b; }
    .status.tamamlandi { background: rgba(16, 185, 129, 0.2); color: #10b981; }
    .status.beklemede { background: rgba(239, 68, 68, 0.2); color: #ef4444; }

    .team { display: flex; }
    .team img {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      border: 2px solid #1e293b;
      object-fit: cover;
      margin-left: -8px;
    }
    .team img:first-child { margin-left: 0; }

    .progress {
      width: 100%;
      height: 6px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 3px;
      margin-bottom: 10px;
      overflow: hidden;
    }

    .progress-fill { height: 100%; border-radius: 3px; transition: width 0.4s ease; }
    .progress-devam { background: #f59e0b; }
    .progress-tamamlandi { background: #10b981; }
    .progress-beklemede { background: #ef4444; }

    .time-left { font-size: 12px; color: #f59e0b; font-weight: 500; }

    /* Modal Overlay */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(8px);
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s, visibility 0.3s;
    }

    .modal-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .modal {
      background: #1e293b;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      width: 90%;
      max-width: 960px;
      max-height: 90vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .modal-header {
      padding: 20px 24px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      flex-shrink: 0;
    }
    .modal-header h2 { font-size: 20px; font-weight: 600; }
    .modal-close { background: none; border: none; color: rgba(255, 255, 255, 0.6); font-size: 24px; cursor: pointer; transition: color 0.2s; }
    .modal-close:hover { color: white; }

    .modal-body {
      display: flex;
      flex: 1;
      overflow: hidden;
    }
    .modal-main-content {
      flex: 1;
      padding: 24px;
      overflow-y: auto;
    }
    .modal-sidebar {
      width: 280px;
      background: rgba(15, 23, 42, 0.5);
      padding: 24px;
      border-left: 1px solid rgba(255, 255, 255, 0.1);
      overflow-y: auto;
      flex-shrink: 0;
    }

    .modal-section { margin-bottom: 24px; }
    .modal-section-title {
      font-size: 14px;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.8);
      margin-bottom: 12px;
      padding-bottom: 6px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    #detailDesc { color: rgba(255, 255, 255, 0.8); line-height: 1.6; }
    
    /* MODAL YAN PANEL (SIDEBAR) */
    .meta-item { display: flex; align-items: flex-start; gap: 12px; margin-bottom: 16px; }
    .meta-item svg { width: 16px; height: 16px; color: rgba(255, 255, 255, 0.6); margin-top: 3px; flex-shrink: 0; }
    .meta-item-content { font-size: 14px; }
    .meta-item-content .label { font-weight: 500; color: rgba(255, 255, 255, 0.6); display: block; margin-bottom: 4px; font-size: 12px; }
    .meta-item-content .value { font-weight: 500; color: white; }
    #detailTeam.team { justify-content: flex-start; }

    /* GÖREVLER */
    #taskSummary { font-size: 13px; color: rgba(255, 255, 255, 0.7); margin-bottom: 12px; }
    .task-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      margin-bottom: 8px;
      border: 1px solid transparent;
      transition: background 0.2s, border-color 0.2s;
    }
    .task-item:hover { background: rgba(255, 255, 255, 0.1); border-color: rgba(255, 255, 255, 0.2); }
    .task-checkbox { width: 18px; height: 18px; accent-color: #3b82f6; cursor: pointer; }
    .task-text { flex: 1; font-size: 14px; color: white; }
    .task-item.done .task-text { text-decoration: line-through; color: rgba(255, 255, 255, 0.5); }
    .task-dates { font-size: 12px; color: rgba(255, 255, 255, 0.6); text-align: right; white-space: nowrap; }

    /* YORUMLAR */
    .comment-item { display: flex; gap: 12px; margin-bottom: 16px; }
    .comment-avatar { width: 36px; height: 36px; border-radius: 50%; object-fit: cover; }
    .comment-content { flex: 1; }
    .comment-header { display: flex; align-items: center; gap: 8px; margin-bottom: 4px; }
    .comment-user { font-weight: 600; font-size: 14px; }
    .comment-time { font-size: 12px; color: rgba(255, 255, 255, 0.5); }
    .comment-text { font-size: 14px; line-height: 1.5; color: rgba(255, 255, 255, 0.9); }
    
    /* DOSYALAR */
    #fileList { display: flex; flex-wrap: wrap; gap: 10px; }
    .file-item {
      display: flex;
      align-items: center;
      gap: 8px;
      background: rgba(255, 255, 255, 0.1);
      padding: 8px 12px;
      border-radius: 8px;
      font-size: 13px;
      cursor: pointer;
      transition: background 0.2s;
    }
    .file-item:hover { background: rgba(59, 130, 246, 0.3); }
    .file-item svg { width: 16px; height: 16px; }
    
    /* MODAL FORM ELEMANLARI */
    .form-group { margin-bottom: 16px; }
    .form-group label { display: block; font-size: 14px; color: rgba(255, 255, 255, 0.9); margin-bottom: 6px; font-weight: 500; }
    .form-group input, .form-group textarea, .form-group select {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      color: white;
      font-size: 14px;
      transition: border-color 0.2s, background-color 0.2s;
    }
    .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
        outline: none;
        border-color: #3b82f6;
        background: rgba(255, 255, 255, 0.15);
    }
    .form-group textarea { min-height: 80px; resize: vertical; }

    .btn-modal {
      background: #3b82f6;
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.2s;
    }
    .btn-modal:hover { background: #2563eb; }
    .btn-modal-secondary {
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
    }
    .btn-modal-secondary:hover { background: rgba(255, 255, 255, 0.2); }
    .btn-sm { padding: 6px 12px; font-size: 13px; }

    /* Tablo Görünümü */
    .projects-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    .projects-table th { text-align: left; padding: 12px 10px; font-size: 13px; color: rgba(255, 255, 255, 0.8); border-bottom: 1px solid rgba(255, 255, 255, 0.1); background: rgba(255, 255, 255, 0.05); }
    .projects-table td { padding: 14px 10px; font-size: 13px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
    .projects-table tr:hover { background: rgba(255, 255, 255, 0.05); }

    /* Kanban Görünümü */
    .kanban { display: flex; gap: 20px; overflow-x: auto; padding: 10px 0; }
    .kanban-column { min-width: 300px; background: rgba(255, 255, 255, 0.05); border-radius: 12px; padding: 16px; }
    .kanban-column h3 { font-size: 14px; color: rgba(255, 255, 255, 0.9); margin-bottom: 16px; text-align: center; font-weight: 600; }
    .kanban-card { background: rgba(30, 41, 59, 0.8); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 10px; padding: 12px; margin-bottom: 12px; font-size: 13px; cursor: grab; }
    .kanban-card:active { cursor: grabbing; }
    .kanban-card h4 { font-size: 14px; margin-bottom: 6px; color: white; }
    .kanban-tags { display: flex; gap: 4px; margin-bottom: 8px; }
    .kanban-tags .tag { padding: 2px 6px; font-size: 10px; }

    /* Zaman Çizelgesi */
    .timeline-view { display: flex; flex-direction: column; gap: 20px; padding: 20px; background: rgba(255, 255, 255, 0.05); border-radius: 12px; border: 1px solid rgba(255, 255, 255, 0.1); }
    .timeline-header { display: flex; justify-content: space-between; align-items: center; }
    .timeline-title { font-size: 18px; font-weight: 600; color: white; }
    .timeline-controls { display: flex; gap: 10px; }
    .timeline-control { background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); padding: 6px 12px; border-radius: 6px; font-size: 14px; cursor: pointer; }
    .timeline-control.active { background: #3b82f6; color: white; }
    .timeline-container { display: flex; flex-direction: column; gap: 12px; }
    .timeline-item { display: flex; align-items: center; gap: 12px; padding: 12px; background: rgba(255, 255, 255, 0.05); border-radius: 8px; }
    .timeline-progress { flex: 1; height: 16px; background: rgba(255, 255, 255, 0.2); border-radius: 8px; overflow: hidden; }
    .progress-bar { height: 100%; border-radius: 8px; background: #3b82f6; }
    .timeline-info { display: flex; justify-content: space-between; font-size: 12px; color: rgba(255, 255, 255, 0.6); }
  </style>
</head>
<body>
  <!-- Sol Sidebar -->
  <div class="sidebar">
    <div class="logo">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1v-4zm8-8a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zm0 8a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z" fill="currentColor"/></svg>
      <span>Ejder3200 Hub</span>
    </div>
    <div class="nav-links">
      <div class="nav-item"><span>Dashboard</span></div>
      <div class="nav-item active"><span>Projeler</span></div>
      <div class="nav-item"><span>Takım</span></div>
      <div class="nav-item"><span>Raporlar</span></div>
      <div class="nav-item"><span>Ayarlar</span></div>
    </div>
  </div>

  <!-- Ana İçerik -->
  <div class="main">
    <div class="header">
      <div class="title"><h1>Tüm Projeler</h1><p>12 proje listeleniyor. Filtreleyin veya arayın.</p></div>
      <div class="actions">
        <div class="search"><input type="text" placeholder="Proje ara..." id="searchInput"></div>
        <button class="btn" id="addProjectBtn">Yeni Proje</button>
      </div>
    </div>
    <div class="view-tabs">
      <div class="view-tab active" data-view="cards">Kartlar</div>
      <div class="view-tab" data-view="table">Tablo</div>
      <div class="view-tab" data-view="kanban">Kanban</div>
      <div class="view-tab" data-view="timeline">Zaman Çizelgesi</div>
    </div>
    <div class="filters">
      <button class="filter-btn active" data-filter="all">Tümü</button>
      <button class="filter-btn" data-filter="devam">Devam Eden</button>
      <button class="filter-btn" data-filter="tamamlandi">Tamamlanan</button>
      <button class="filter-btn" data-filter="beklemede">Beklemede</button>
    </div>
    <div id="cards" class="view active"><div class="projects-grid" id="projectsGrid"></div></div>
    <div id="table" class="view"><table class="projects-table"><thead><tr><th>Proje</th><th>Durum</th><th>İlerleme</th><th>Ekip</th><th>Son Tarih</th><th>Kalan Süre</th></tr></thead><tbody id="tableBody"></tbody></table></div>
    <div id="kanban" class="view"><div class="kanban"><div class="kanban-column" data-status="beklemede"><h3>Beklemede</h3></div><div class="kanban-column" data-status="devam"><h3>Devam Ediyor</h3></div><div class="kanban-column" data-status="tamamlandi"><h3>Tamamlandı</h3></div></div></div>
    <div id="timeline" class="view"></div>
  </div>

  <!-- Bildirim Paneli -->
  <div class="notification" id="notification"></div>

  <!-- Proje Detay Modalı (YENİ TASARIM) -->
  <div class="modal-overlay" id="detailModal">
    <div class="modal">
      <div class="modal-header">
        <h2 id="detailTitle">Proje Adı</h2>
        <button class="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <div class="modal-main-content">
          <div class="modal-section">
            <p id="detailDesc">Açıklama</p>
          </div>
          <div class="modal-section">
            <h3 class="modal-section-title">Görevler</h3>
            <div id="taskSummary"></div>
            <div id="taskList"></div>
            <button class="btn-modal btn-sm btn-modal-secondary" id="addTaskBtn" style="margin-top: 10px;">+ Görev Ekle</button>
          </div>
          <div class="modal-section">
            <h3 class="modal-section-title">Yorumlar</h3>
            <div id="commentList"></div>
            <div class="form-group" style="margin-top:16px;">
              <textarea id="newComment" placeholder="Yorumunuzu yazın..."></textarea>
              <button class="btn-modal btn-sm" id="addCommentBtn" style="margin-top: 8px;">Yorum Gönder</button>
            </div>
          </div>
        </div>
        <div class="modal-sidebar">
          <div class="modal-section">
            <h3 class="modal-section-title">Proje Detayları</h3>
            <div class="meta-item">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/></svg>
              <div class="meta-item-content"><span class="label">Durum</span><div id="detailStatus" class="value"></div></div>
            </div>
            <div class="meta-item">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
              <div class="meta-item-content"><span class="label">Takım</span><div id="detailTeam" class="team value"></div></div>
            </div>
             <div class="meta-item">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
              <div class="meta-item-content"><span class="label">Tarihler</span><div id="detailDates" class="value"></div></div>
            </div>
            <div class="meta-item">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5a2 2 0 012 2v5a2 2 0 01-2 2H7a2 2 0 01-2-2V5a2 2 0 012-2zm0 14h.01M7 17h5a2 2 0 012 2v5a2 2 0 01-2 2H7a2 2 0 01-2-2v-5a2 2 0 012-2zm10-14h.01M17 3h5a2 2 0 012 2v5a2 2 0 01-2 2h-5a2 2 0 01-2-2V5a2 2 0 012-2zm0 14h.01M17 17h5a2 2 0 012 2v5a2 2 0 01-2 2h-5a2 2 0 01-2-2v-5a2 2 0 012-2z"/></svg>
              <div class="meta-item-content"><span class="label">Etiketler</span><div id="detailTags" class="tags value"></div></div>
            </div>
          </div>
          <div class="modal-section">
            <h3 class="modal-section-title">Dosyalar</h3>
            <div id="fileList"></div>
            <button class="btn-modal btn-sm btn-modal-secondary" id="uploadFileBtn" style="margin-top: 10px;">Dosya Yükle</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Yeni Proje Ekle Modalı -->
  <div class="modal-overlay" id="addProjectModal">
    <div class="modal">
      <div class="modal-header"><h2>Yeni Proje Oluştur</h2><button class="modal-close">&times;</button></div>
      <div class="modal-main-content" style="padding-top: 10px;">
        <div class="form-group"><label>Proje Adı *</label><input type="text" id="projectName" placeholder="Proje adı girin"></div>
        <div class="form-group"><label>Açıklama</label><textarea id="projectDesc" placeholder="Proje hakkında bilgi verin..."></textarea></div>
        <div class="form-group"><label>Başlangıç Tarihi</label><input type="date" id="startDate"></div>
        <div class="form-group"><label>Bitiş Tarihi</label><input type="date" id="endDate"></div>
        <div class="form-group"><label>Takım</label><select id="teamSelect"><option value="Ali, Zeynep, Mehmet">Ali, Zeynep, Mehmet</option><option value="Selin, Kemal">Selin, Kemal</option><option value="Elif, Can">Elif, Can</option></select></div>
        <div class="form-group"><label>Etiket</label><select id="tagSelect"><option value="frontend">Frontend</option><option value="backend">Backend</option><option value="uiux">UI/UX</option><option value="acil">Acil</option></select></div>
        <button class="btn-modal" id="createProjectBtn">Projeyi Oluştur</button>
      </div>
    </div>
  </div>

  <script>
    let projects = [
      {
        id: 1,
        title: "Yeni Web Sitesi",
        desc: "Kurumsal site tasarımı, geliştirme ve SEO optimizasyonu. Mobil uyumlu ve hızlı yükleme hedefi.",
        status: "devam",
        startDate: "2025-02-10",
        endDate: "2025-03-05",
        timeLeft: "15 gün kaldı",
        tags: ["frontend", "backend", "uiux"],
        team: ["https://randomuser.me/api/portraits/men/32.jpg", "https://randomuser.me/api/portraits/women/44.jpg", "https://randomuser.me/api/portraits/men/61.jpg"],
        progress: 33,
        tasks: [
          { text: "Tasarım tamamlandı", done: true, start: "15 Şub", end: "20 Şub" },
          { text: "Frontend geliştirme", done: false, start: "21 Şub", end: "28 Şub" },
          { text: "SEO optimizasyonu", done: false, start: "01 Mar", end: "05 Mar" }
        ],
        comments: [
          { user: "Can", text: "Tasarım onaylandı, geliştirme başlıyor.", time: "10 Şub 2025, 14:30", avatar: "https://randomuser.me/api/portraits/men/18.jpg" },
          { user: "Zeynep", text: "Frontend için React kullanalım.", time: "11 Şub 2025, 08:15", avatar: "https://randomuser.me/api/portraits/women/44.jpg" }
        ],
        files: ["design-v2.fig", "api-docs.pdf", "project-brief.docx"]
      }
    ];
    let nextId = 2;

    const projectsGrid = document.getElementById('projectsGrid');
    const tableBody = document.getElementById('tableBody');
    const kanbanColumns = document.querySelectorAll('.kanban-column');
    const detailModal = document.getElementById('detailModal');
    const addProjectModal = document.getElementById('addProjectModal');
    const notification = document.getElementById('notification');
    const addProjectBtn = document.getElementById('addProjectBtn');
    const createProjectBtn = document.getElementById('createProjectBtn');

    addProjectBtn.addEventListener('click', () => addProjectModal.classList.add('active'));

    document.querySelectorAll('.modal-overlay').forEach(el => {
      el.addEventListener('click', (e) => {
        if (e.target === el || e.target.classList.contains('modal-close')) {
          el.classList.remove('active');
        }
      });
    });

    function showNotification(text) {
      notification.innerHTML = `<button class="close-btn">×</button><p>${text}</p>`;
      notification.classList.add('show');
      setTimeout(() => notification.classList.remove('show'), 5000);
    }

    notification.addEventListener('click', e => {
      if (e.target.classList.contains('close-btn')) notification.classList.remove('show');
    });

    function renderAllViews() {
      renderCards();
      renderTable();
      renderKanban();
    }

    const getStatusText = (status) => status === 'devam' ? 'Devam Ediyor' : status === 'tamamlandi' ? 'Tamamlandı' : 'Beklemede';
    const getTagText = (tag) => ({frontend: 'Frontend', backend: 'Backend', uiux: 'UI/UX', acil: 'Acil'}[tag] || tag);

    function renderCards() {
      projectsGrid.innerHTML = '';
      projects.forEach(p => {
        const card = document.createElement('div');
        card.className = 'project-card';
        card.dataset.id = p.id;
        card.innerHTML = `
          <h3>${p.title}</h3>
          <p class="project-desc">${p.desc}</p>
          <div class="tags">${p.tags.map(t => `<span class="tag ${t}">${getTagText(t)}</span>`).join('')}</div>
          <div class="project-meta">
            <span class="status ${p.status}">${getStatusText(p.status)}</span>
            <span>${new Date(p.endDate).toLocaleDateString('tr-TR', { day: '2-digit', month: 'short' })}</span>
          </div>
          <div class="progress"><div class="progress-fill progress-${p.status}" style="width:${p.progress}%"></div></div>
          <div class="project-meta">
            <span class="time-left">${p.timeLeft}</span>
            <div class="team">${p.team.map(img => `<img src="${img}" alt="team">`).join('')}</div>
          </div>`;
        card.addEventListener('click', () => openDetailModal(p.id));
        projectsGrid.appendChild(card);
      });
    }

    function renderTable() { /* ... unchanged ... */ }
    function renderKanban() { /* ... unchanged ... */ }

    // DETAY MODALI
    function openDetailModal(projectId) {
      const project = projects.find(p => p.id === projectId);
      if (!project) return;

      document.getElementById('detailTitle').textContent = project.title;
      document.getElementById('detailDesc').textContent = project.desc;
      
      // Sidebar
      document.getElementById('detailStatus').innerHTML = `<span class="status ${project.status}">${getStatusText(project.status)}</span>`;
      document.getElementById('detailTeam').innerHTML = project.team.map(img => `<img src="${img}" alt="team">`).join('');
      document.getElementById('detailDates').textContent = `${new Date(project.startDate).toLocaleDateString('tr-TR')} - ${new Date(project.endDate).toLocaleDateString('tr-TR')}`;
      document.getElementById('detailTags').innerHTML = project.tags.map(t => `<span class="tag ${t}">${getTagText(t)}</span>`).join('');
      
      const updateTasks = () => {
        const taskList = document.getElementById('taskList');
        taskList.innerHTML = '';
        project.tasks.forEach((t, index) => {
          const item = document.createElement('div');
          item.className = `task-item ${t.done ? 'done' : ''}`;
          item.innerHTML = `
            <input type="checkbox" class="task-checkbox" ${t.done ? 'checked' : ''} data-index="${index}">
            <div class="task-text">${t.text}</div>
            <div class="task-dates">${t.start} - ${t.end}</div>`;
          taskList.appendChild(item);
        });

        const doneCount = project.tasks.filter(t => t.done).length;
        project.progress = project.tasks.length > 0 ? Math.round((doneCount / project.tasks.length) * 100) : 0;
        document.getElementById('taskSummary').textContent = `${doneCount} / ${project.tasks.length} görev tamamlandı.`;
        renderCards(); // Update card progress bar
      };

      taskList.addEventListener('change', (e) => {
          if (e.target.classList.contains('task-checkbox')) {
              const index = e.target.dataset.index;
              project.tasks[index].done = e.target.checked;
              updateTasks();
          }
      });
      
      updateTasks();

      const commentList = document.getElementById('commentList');
      commentList.innerHTML = '';
      project.comments.forEach(c => {
        const item = document.createElement('div');
        item.className = 'comment-item';
        item.innerHTML = `
          <img src="${c.avatar}" alt="${c.user}" class="comment-avatar">
          <div class="comment-content">
            <div class="comment-header"><span class="comment-user">${c.user}</span><span class="comment-time">${c.time}</span></div>
            <p class="comment-text">${c.text}</p>
          </div>`;
        commentList.appendChild(item);
      });
      
      const fileList = document.getElementById('fileList');
      fileList.innerHTML = '';
      project.files.forEach(f => {
        const p = document.createElement('div');
        p.className = 'file-item';
        p.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/></svg><span>${f}</span>`;
        fileList.appendChild(p);
      });

      detailModal.classList.add('active');
    }

    // YENİ PROJE OLUŞTUR
    createProjectBtn.addEventListener('click', () => {
        // ... (Bu kısım aynı kalabilir) ...
        const name = document.getElementById('projectName').value.trim();
        if(!name) return;
        
        const newProject = {
            id: nextId++,
            title: name,
            desc: document.getElementById('projectDesc').value.trim() || 'Açıklama yok',
            status: 'beklemede',
            startDate: document.getElementById('startDate').value || new Date().toISOString().split('T')[0],
            endDate: document.getElementById('endDate').value || new Date().toISOString().split('T')[0],
            timeLeft: 'Hesaplanıyor...',
            tags: [document.getElementById('tagSelect').value],
            team: ['https://randomuser.me/api/portraits/men/1.jpg'],
            progress: 0,
            tasks: [], comments: [], files: []
        };
        projects.push(newProject);
        addProjectModal.classList.remove('active');
        renderAllViews();
        showNotification(`<strong>${newProject.title}</strong> projesi oluşturuldu.`);
    });
    
    // GÖRÜNÜM GEÇİŞİ VE ARAMA
    // ... (Bu kısımlar aynı kalabilir) ...
     document.querySelectorAll('.view-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelector('.view-tab.active').classList.remove('active');
        document.querySelector('.view.active').classList.remove('active');
        tab.classList.add('active');
        document.getElementById(tab.dataset.view).classList.add('active');
      });
    });

    renderAllViews();
  </script>
</body>
</html>